(function(c,a){c.util.namespace("$.easyui");c.easyui.getTopEasyuiMessager=function(){if(c.util.isUtilTop){return c.messager}return c.util.$&&c.util.$.messager?c.util.$.messager:c.messager};c.easyui.messager=c.easyui.getTopEasyuiMessager();c.easyui.getTopEasyuiTooltip=function(){if(c.util.isUtilTop){return c.fn.tooltip}return c.util.$&&c.util.$.fn&&c.util.$.fn.tooltip?c.util.$.fn.tooltip:c.fn.tooltip};c.easyui.tooltip=c.fn.tooltip;c.easyui.tooltip.init=function(l,j){var k=c(l);k.mouseover(function(){k.tooltip(c.extend({trackMouse:true},j,{onHide:function(){if(c.isFunction(j.onHide)){j.onHide.apply(this,arguments)}k.tooltip("destroy")}})).tooltip("show")})};var h={error:"messager-error",info:"messager-info",question:"messager-question",warning:"messager-warning"},d=c.messager.show,g=c.messager.alert,i=c.messager.confirm,e=c.messager.prompt,b={title:"操作提醒",confirm:"您确认要进行该操作？",prompt:"请输入相应内容：",icon:"info",loading:"正在加载，请稍等..."};c.messager.show=function(l){var k=c.util.isString(l)||c.util.isBoolean(l)||c.isNumeric(l);if(k){return arguments.length==1?c.messager.show({msg:String(l)}):c.messager.show({title:l,msg:arguments[1],icon:arguments[2],position:arguments[3]})}var n=c.extend({},c.messager.defaults,{title:"操作提醒",timeout:4000,showType:"slide"},l),j={topLeft:{showType:"show",right:"",left:0,top:document.body.scrollTop+document.documentElement.scrollTop,bottom:""},topCenter:{showType:"slide",right:"",top:document.body.scrollTop+document.documentElement.scrollTop,bottom:""},topRight:{showType:"show",left:"",right:0,top:document.body.scrollTop+document.documentElement.scrollTop,bottom:""},centerLeft:{showType:"fade",left:0,right:"",bottom:""},center:{showType:"fade",right:"",bottom:""},centerRight:{showType:"fade",left:"",right:0,bottom:""},bottomLeft:{showType:"show",left:0,right:"",top:"",bottom:-document.body.scrollTop-document.documentElement.scrollTop},bottomCenter:{showType:"slide",right:"",top:"",bottom:-document.body.scrollTop-document.documentElement.scrollTop},bottomRight:{showType:"show",left:"",right:0,top:"",bottom:-document.body.scrollTop-document.documentElement.scrollTop}};n.style=(n.position&&j[n.position])?j[n.position]:j.topCenter;if(n.style.showType){n.showType=n.style.showType}var m=(n.icon&&h[n.icon])?h[n.icon]:h.info;n.msg="<div class='messager-icon "+m+"'></div><div>"+n.msg+"</div>";return d(n)};c.union(c.messager.show,d);c.messager.alert=function(m,l,k,j){if(arguments.length==1){return g(b.title,arguments[0],b.icon)}if(arguments.length==2){if(c.isFunction(arguments[1])){return g(b.title,arguments[0],b.icon,arguments[1])}if(arguments[1] in h){return g(b.title,arguments[0],arguments[1])}return g.apply(this,arguments)}if(arguments.length==3){if(c.isFunction(arguments[2])){return(arguments[1] in h)?g(b.title,arguments[0],arguments[1],arguments[2]):g(arguments[0],arguments[1],b.icon,arguments[2])}return g.apply(this,arguments)}return g.apply(this,arguments)};c.messager.confirm=function(l,k,j){if(arguments.length==1){return c.isFunction(arguments[0])?i(b.title,b.confirm,arguments[0]):i(b.title,arguments[0])}if(arguments.length==2){return c.isFunction(arguments[1])?i(b.title,arguments[0],arguments[1]):i(arguments[0],arguments[1])}return i.apply(this,arguments)};c.messager.solicit=function(r,k,q){var m=arguments,o=c.type(m[0]),j=c.extend({},c.messager.solicit.defaults,o=="object"?m[0]:(o=="function"?{callback:m[0]}:(m.length==2?{message:m[0],callback:m[1]}:{title:m[0],message:m[1],callback:m[2]}))),l=c.messager.confirm(j.title,j.message,j.callback),s=l.window("options"),p=s.onClose;s.onClose=function(){if(c.isFunction(p)){p.apply(this,arguments)}if(c.isFunction(j.callback)){j.callback.call(this,a)}};var n=l.find(">div.messager-button").empty();c('<a class="messager-solicit messager-solicit-yes"></a>').appendTo(n).linkbutton({text:j.yesText,onClick:function(){s.onClose=p;l.window("close");if(c.isFunction(j.callback)){j.callback.call(this,true)}}});c('<a class="messager-solicit messager-solicit-no"></a>').appendTo(n).linkbutton({text:j.noText,onClick:function(){s.onClose=p;l.window("close");if(c.isFunction(j.callback)){j.callback.call(this,false)}}});c('<a class="messager-solicit messager-solicit-cancel"></a>').appendTo(n).linkbutton({text:j.cancelText,onClick:function(){s.onClose=p;l.window("close");if(c.isFunction(j.callback)){j.callback.call(this,a)}}});return l};c.messager.solicit.defaults={title:"操作提醒",message:null,callback:null,yesText:"是",noText:"否",cancelText:"取消"};c.messager.prompt=function(l,k,j){if(arguments.length==1){return c.isFunction(arguments[0])?e(b.title,b.prompt,arguments[0]):e(b.title,b.prompt)}if(arguments.length==2){return c.isFunction(arguments[1])?e(b.title,arguments[0],arguments[1]):e(arguments[0],arguments[1])}return e.apply(this,arguments)};c.easyui.loading=function(l){var n=c.extend({msg:b.loading,locale:"body",topMost:false},l||{}),q=n.topMost?c.util.$:c,j=q(n.locale),p=j.children().map(function(){var r=c(this).css("z-index");return c.isNumeric(r)?parseInt(r):0}),m=c.array.max(p.length?p:[1]);if(!j.is("body")){j.addClass("mask-container")}var k=q("<div></div>").addClass("datagrid-mask").css({display:"block","z-index":m+=100}).appendTo(j);var o=q("<div></div>").addClass("datagrid-mask-msg").css({display:"block",left:"50%","z-index":++m}).html(n.msg).appendTo(j);o.css("marginLeft",-o.outerWidth()/2);return k.add(o)};c.easyui.loaded=function(j,m){var k={locale:"body",topMost:false};if(arguments.length==1){if(c.isPlainObject(arguments[0])){c.extend(k,arguments[0])}else{if(c.util.isBoolean(arguments[0])){k.topMost=arguments[0]}else{k.locale=arguments[0]}}}if(arguments.length==2){if(c.util.isBoolean(arguments[0])){c.extend(k,{locale:arguments[1],topMost:arguments[0]})}else{c.extend(k,{locale:arguments[0],topMost:arguments[1]})}}var l=k.topMost?c.util.$:c,j=l(k.locale);j.removeClass("mask-container");j.children("div.datagrid-mask-msg,div.datagrid-mask").remove()};c.extend(c.fn.panel.defaults,{loadingMessage:b.loading});c.extend(c.fn.window.defaults,{loadingMessage:b.loading});c.extend(c.fn.dialog.defaults,{loadingMessage:b.loading});c.extend(c.fn.combo.defaults,{missingMessage:c.fn.validatebox.defaults.missingMessage});c.easyui.bindPageNestedFunc=function(k,j,l,m){if(arguments.length==3){m=l;l="jquery"}if(arguments.length==4&&!l){l="jquery"}c(document).unbind("."+j).bind(k+"."+j,function(q){var r=function(s){m.call(s,s,q)},p=function(u){var t=u.parent;try{if(u!=t&&t.jQuery&&t.jQuery.parser&&t.jQuery.parser.plugins&&t.jQuery.fn&&t.jQuery.fn[l]){r(t);p(t)}}catch(s){}},o=function(s){var t=s.jQuery;t("iframe,iframe").each(function(){try{if(this.contentWindow&&t.util.isObject(this.contentWindow.document)&&this.contentWindow.jQuery&&this.contentWindow.jQuery.parser&&this.contentWindow.jQuery.parser.plugins&&this.contentWindow.jQuery.fn&&this.contentWindow.jQuery.fn[l]){r(this.contentWindow);o(this.contentWindow)}}catch(u){}})},n=function(s){r(s);p(s);o(s)};n(window)})};c.easyui.ajaxError=function(j){if(!arguments.length){return c.fn.form.defaults.onLoadError}c.fn.form.defaults.onLoadError=j;c.fn.panel.defaults.onLoadError=j;c.fn.combobox.defaults.onLoadError=j;c.fn.combotree.defaults.onLoadError=j;c.fn.combogrid.defaults.onLoadError=j;c.fn.datagrid.defaults.onLoadError=j;c.fn.propertygrid.defaults.onLoadError=j;c.fn.tree.defaults.onLoadError=j;c.fn.treegrid.defaults.onLoadError=j;c.ajaxSetup({error:j})};var f=function(q,m,o){c.messager.progress("close");if(c.easyui.messager!=c.messager){c.easyui.messager.progress("close")}var n=(q&&!c.string.isNullOrWhiteSpace(q.responseText)?"如果该问题重复出现，请联系您的系统管理员并反馈该故障。<br />错误号："+q.status+"("+q.statusText+")；<hr />"+q.responseText:"系统出现了一个未指明的错误，如果该问题重复出现，请联系您的系统管理员并反馈该故障。");var p=c.easyui.messager.alert("错误提醒",n,"error"),j=p.window("options"),k=p.window("panel"),l=k.outerWidth(),r=k.outerHeight();if(l>800||r>800){p.window("resize",{width:l>800?800:l,height:r>800?800:r})}p.window("center")};c.easyui.ajaxDefaults=c.extend({},c.ajaxSettings);c.easyui.ajaxError(f);c.ajaxSetup({dataFilter:function(k,j){return String(j).toLowerCase(j)=="json"?c.string.toJSONString(k):k}});c.extend({isEasyUI:function(j,m){if(!c.array.contains(c.parser.plugins,m)){c.error(c.string.format("传入的参数 pluginName: {0} 不是 easyui 插件名。"))}var k=c(j);if(!k.length){return false}var l=c.data(k[0],m);return l&&l.options?true:false}});c.fn.extend({isEasyUI:function(j){return c.isEasyUI(this,j)},currentPagination:function(){var j=this.closest(".pagination");while(j.length&&!c.data(j[0],"pagination")){j=j.parent().closest(".pagination")}return j},currentProgressbar:function(){var j=this.closest(".progressbar");while(j.length&&!c.data(j[0],"progressbar")){j=j.parent().closest(".progressbar")}return j},currentPanel:function(){var j=this.closest(".panel-body");while(j.length&&!c.data(j[0],"panel")){j=j.parent().closest(".panel-body")}return j},currentTabPanel:function(){var m=this.closest(".panel-body"),k=m.parent(),l=k.parent(),j=l.parent();while(m.length&&!(c.data(m[0],"panel")&&k.hasClass("panel")&&l.hasClass("tabs-panels")&&j.hasClass("tabs-container"))){m=m.parent().closest(".panel-body");k=m.parent();l=k.parent();j=l.parent()}return m},currentTabIndex:function(){var j=this.currentTabPanel();return j.length?j.panel("panel").index():-1},currentTabs:function(){var j=this.closest(".tabs-container");while(j.length&&!c.data(j[0],"tabs")){j=j.parent().closest(".tabs-container")}return j},currentAccordion:function(){var j=this.closest(".accordion");while(j.length&&!c.data(j[0],"accordion")){j=j.parent().closest(".accordion")}return j},currentAccPanel:function(){var l=this.closest(".panel-body"),k=l.parent(),j=panels.parent();while(l.length&&!(c.data(l[0],"panel")&&k.hasClass("panel")&&j.hasClass("accordion")&&c.data(j[0],"accordion"))){l=l.parent().closest(".panel-body");k=l.parent();j=panels.parent()}return l},currentLayout:function(){var j=this.closest(".layout");while(j.length&&!c.data(j[0],"layout")){j=j.closest(".layout")}return j},currentRegion:function(){var l=this.closest(".panel.layout-panel"),k=l.parent(),j=l.children(".panel-body");while(l.length&&!(k.hasClass("layout")&&c.data(j[0],"panel"))){l=l.parent().closest(".panel.layout-panel");k=l.parent();j=l.children(".panel-body")}return j},currentLinkbutton:function(){var j=this.closest(".l-btn");while(j.length&&!c.data(j[0],"linkbutton")){j=j.parent().closest(".layout")}return j},currentCalendar:function(){var j=this.closest(".calendar");while(j.length&&!c.data(j[0],"calendar")){j=j.parent().closest(".calendar")}return j},currentWindow:function(){var j=this.closest(".panel-body.window-body");while(j.length&&!c.data(j[0],"window")){j=j.parent().closest(".panel-body.window-body")}return j},currentDialog:function(){var j=this.closest(".panel-body.window-body");while(j.length&&!c.data(j[0],"dialog")){j=j.parent().closest(".panel-body.window-body")}return j},currentDatagrid:function(){var k=this.closest(".datagrid-wrap.panel-body"),j=k.find(">.datagrid-view>:eq(2)");while(k.length&&!c.data(j[0],"datagrid")){k=k.parent().closest(".datagrid-wrap.panel-body");j=k.find(">.datagrid-view>:eq(2)")}return j},currentPropertygrid:function(){var j=this.closest(".datagrid-wrap.panel-body"),k=j.find(">.datagrid-view>:eq(2)");while(j.length&&!c.data(k[0],"propertygrid")){j=j.parent().closest(".datagrid-wrap.panel-body");k=j.find(">.datagrid-view>:eq(2)")}return k},currentTree:function(){var j=this.closest(".tree");while(j.length&&!c.data(j[0],"tree")){j=j.parent().closest(".tree")}return j},currentTreegrid:function(){var k=this.closest(".datagrid-wrap.panel-body"),j=k.find(">.datagrid-view>:eq(2)");while(k.length&&!c.data(j[0],"treegrid")){k=k.parent().closest(".datagrid-wrap.panel-body");j=k.find(">.datagrid-view>:eq(2)")}return j}})})(jQuery);